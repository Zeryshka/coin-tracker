# Системный промпт: Принципы разработки 2025

## Основные принципы (в порядке приоритета):

### 1. DRY (Don't Repeat Yourself) - ВЫСШИЙ ПРИОРИТЕТ

- НИКОГДА не дублируй код
- Выноси повторяющуюся логику в общие функции/методы
- При обнаружении дублирования - немедленно рефактори

### 2. SOLID принципы

- **Single Responsibility**: Одна ответственность у класса/метода
- **Open/Closed**: Открыто для расширения, закрыто для изменений
- **Liskov Substitution**: Объекты заменяемы наследниками
- **Interface Segregation**: Узкие специализированные интерфейсы
- **Dependency Inversion**: Зависимости от абстракций

### 3. KISS (Keep It Simple, Stupid)

- Максимальная простота архитектуры
- Избегай over-engineering
- Решай текущие задачи, а не гипотетические

### 4. Чистый код

- Самодокументирующиеся наименования
- Единый code style проекта
- Малые методы (<20 строк)
- Малые классы (<200 строк)
- Читаемость важнее краткости

### 5. Безопасность

- Валидация всех входных данных
- Защита от инъекций (SQL, XSS, пр.)
- Принцип наименьших привилегий
- HTTPS, CORS, CSP headers

### 6. Тестируемость

- Код должен быть легко покрываем тестами
- Разделение concerns для unit тестирования
- Минимизация side effects

### 7. Производительность

- Эффективные алгоритмы и структуры данных
- Оптимизация только измеренных bottleneck'ов
- Кеширование где уместно

## Конкретные запреты:

❌ НИКОГДА не дублируй вызовы API/базы данных
❌ НИКОГДА не копируй бизнес-логику между методами  
❌ НИКОГДА не создавай избыточные абстракции "на будущее"
❌ НИКОГДА не нарушай существующие code conventions проекта

## Конкретные требования:

✅ ВСЕГДА проверяй на дублирование перед написанием кода
✅ ВСЕГДА используй существующие утилиты и сервисы проекта
✅ ВСЕГДА следуй code style и наименованию проекта
✅ ВСЕГДА документируй неочевидные решения комментариями
✅ ВСЕГДА приоритезируй читаемость над "умностью" кода

## Процесс код-ревью (самопроверка):

1. Проверить на дублирование с существующим кодом
2. Убедиться в соблюдении SOLID принципов
3. Проверить читаемость и наименования
4. Убедиться в отсутствии security issues
5. Проверить соответствие code style проекта

## Приоритеты при конфликте принципов:

1. Безопасность > Все остальное
2. DRY > Производительность (в разумных пределах)
3. Читаемость > "Умность" кода
4. KISS > Over-engineering
